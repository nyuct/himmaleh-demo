gsap.registerPlugin(ScrollTrigger),gsap.registerPlugin(ScrollToPlugin),gsap.registerPlugin(SplitText),gsap.registerPlugin(ScrollSmoother),console.clear(),select=e=>document.querySelector(e),selectAll=e=>document.querySelectorAll(e);const stage=select(".stage"),slides=selectAll(".slide"),links=selectAll(".slide__scroll-link"),titles=selectAll(".col__content-title"),introTitle=new SplitText(".intro__title",{type:"lines",linesClass:"intro-line"}),splitTitles=new SplitText(titles,{type:"lines, chars",linesClass:"line",charsClass:"char",position:"relative"});let slideID=0;const smoother=ScrollSmoother.create({smooth:2,effects:!0,smoothTouch:.1});function initHeader(){gsap.timeline({delay:.5}).from(".logo",{y:-40,opacity:0,duration:2,ease:"power4"}).from(".nav-btn__svg rect",{scale:0,transformOrigin:"center right",duration:.6,ease:"power4",stagger:.1},.6).to(".nav-rect",{scale:.8,transformOrigin:"center left",duration:.4,ease:"power2",stagger:.1},"-=0.6");let e=select(".nav-btn");e.addEventListener("mouseover",(e=>{gsap.to(".nav-rect",{scaleX:1,transformOrigin:"top left",duration:.4,ease:"power4"})})),e.addEventListener("mouseout",(e=>{gsap.to(".nav-rect",{scaleX:.8,transformOrigin:"top left",duration:.6,ease:"power4"})}))}function initIntro(){gsap.timeline({delay:1.2}).from(".intro-line",{y:400,ease:"power4",duration:3}).from(".intro__txt",{x:-100,opacity:0,ease:"power4",duration:3},.7).from(".intro__img--1",{y:50,opacity:0,ease:"power2",duration:10},1).from(".intro__img--2",{y:-50,opacity:0,ease:"power2",duration:10},1),gsap.timeline({scrollTrigger:{trigger:".intro",scrub:1,start:"top bottom",end:"bottom top"}}).to(".intro__title",{x:400,ease:"power4.in",duration:3}).to(".intro__txt",{y:100,ease:"power4.in",duration:3},0)}function initLinks(){links.forEach(((e,t,o)=>{let r=e.querySelector(".slide__scroll-line");e.addEventListener("click",(e=>{e.preventDefault(),gsap.to(window,{duration:2,scrollTo:{y:"#slide-"+(t+2)},ease:"power2.inOut"}),slideID++})),e.addEventListener("mouseover",(e=>{gsap.to(r,{y:40,transformOrigin:"bottom center",duration:.6,ease:"power4"})})),e.addEventListener("mouseout",(e=>{gsap.to(r,{y:0,transformOrigin:"bottom center",duration:.6,ease:"power4"})}))}));let e=select(".footer__link-top");e.addEventListener("click",(e=>{e.preventDefault(),scrollTop()})),e.addEventListener("mouseover",(e=>{gsap.to(".footer__link-top-line",{scaleY:3,transformOrigin:"bottom center",duration:.6,ease:"power4"})})),e.addEventListener("mouseout",(e=>{gsap.to(".footer__link-top-line",{scaleY:1,transformOrigin:"bottom center",duration:.6,ease:"power4"})})),selectAll(".slide-link").forEach(((e,t,o)=>{let r=e.querySelector(".slide-link__line");e.addEventListener("mouseover",(e=>{gsap.to(r,{x:20,scaleX:.3,transformOrigin:"right center",duration:.8,ease:"power4"})})),e.addEventListener("mouseout",(e=>{gsap.to(r,{x:0,scaleX:1,transformOrigin:"right center",duration:.8,ease:"power4"})}))}))}function initSlides(){slides.forEach(((e,t)=>{gsap.timeline({scrollTrigger:{trigger:e,markers:!0,start:"40% 50%"}}).from(e.querySelectorAll(".col__content-title"),{ease:"power4",y:"+=5vh",duration:2.5}).from(e.querySelectorAll(".line__inner"),{y:200,duration:2,ease:"power4",stagger:.1},0).from(e.querySelectorAll(".col__content-txt"),{x:100,y:50,opacity:0,duration:2,ease:"power4"},.4).from(e.querySelectorAll(".slide-link"),{x:-100,y:100,opacity:0,duration:2,ease:"power4"},.3).from(e.querySelectorAll(".slide__scroll-link"),{y:200,duration:3,ease:"power4"},.4).to(e.querySelectorAll(".slide__scroll-line"),{scaleY:.6,transformOrigin:"bottom left",duration:2.5,ease:"elastic(1,0.5)"},1.4)})),gsap.from(".footer__link",{scrollTrigger:{trigger:".footer",scrub:2,start:"50% 100%",end:"0% 0%"},y:"20vh",ease:"sine"})}function initParallax(){slides.forEach(((e,t)=>{let o=e.querySelectorAll(".col__image-wrap");gsap.fromTo(o,{y:"-30vh"},{y:"30vh",scrollTrigger:{trigger:e,scrub:!0,start:"top bottom",snap:{snapTo:.5,duration:1,ease:"power4.inOut"}},ease:"none"})}))}function scrollTop(){gsap.to(window,{duration:2,scrollTo:{y:"#slide-0"},ease:"power2.inOut"}),gsap.to(".footer__link-top-line",{scaleY:1,transformOrigin:"bottom center",duration:.6,ease:"power4"})}function initKeys(){document.addEventListener("keydown",(e=>{e.preventDefault(),40==event.keyCode?slideID<=slides.length&&(slideID++,gsap.to(window,{duration:2,scrollTo:{y:"#slide-"+slideID},ease:"power2.inOut"})):38==event.keyCode&&(slideID=0,scrollTop())}))}function init(){gsap.set(stage,{autoAlpha:1}),initHeader(),initIntro(),initLinks(),initSlides(),initParallax(),initKeys()}window.onload=()=>{init()};