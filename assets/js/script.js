const isFirefox=navigator.userAgent.indexOf("Firefox")>-1,isMobile=!!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Nokia|Opera Mini/i.test(navigator.userAgent),maxWidth=window.innerWidth,maxHeight=window.innerHeight;let isAudioEnabled=!1;const showMarkers=!1,select=e=>document.querySelector(e),selectAll=e=>document.querySelectorAll(e);if(document.getElementById("kumaonVideo")){}!function(e){"use strict";if(isFirefox&&e("body").addClass("is-firefox"),isMobile&&e("body").addClass("is-mobile"),e("body").hasClass("tt-transition")){function t(){const t=gsap.timeline();e("#page-transition").length&&(t.to(".ptr-preloader",{duration:1.5,autoAlpha:0,ease:Expo.easeInOut}),t.to(".ptr-overlay",{duration:1.5,scaleY:0,transformOrigin:"center top",ease:Expo.easeInOut},.3))}e(window).on("load",(function(){setTimeout((function(){t()}),0)}));const o=select("#soundButton");function i(){if(isAudioEnabled=!isAudioEnabled,o.classList.toggle("mute"),!isAudioEnabled&&isAudioPlaying){select("#audio").pause(),isAudioPlaying=!1}}o.addEventListener("click",i),window.onpageshow=function(e){e.persisted&&window.location.reload()},e("a").not('[target="_blank"]').not('[href^="#"]').not('[href^="mailto"]').not('[href^="tel"]').not(".lg-trigger").not(".tt-btn-disabled").not(".no-transition").on("click",(function(t){t.preventDefault();const o=t.currentTarget.dataset.sneak;if(e(t.currentTarget).hasClass("label-link")){if(window.sneakActive=!0,e(o).addClass("full"),this.href.includes("coming-soon.html"))return void e(".coming-soon-popup").addClass("active");setTimeout((function(e){window.location=e}),1500,this.href)}else setTimeout((function(e){window.location=e}),1500,this.href),i=gsap.timeline({defaults:{duration:1.5,ease:Expo.easeInOut}}),e("#page-transition").length&&(i.set("#page-transition",{autoAlpha:1}),i.to(".ptr-overlay",{scaleY:1,transformOrigin:"center bottom"},0),i.to(".ptr-preloader",{autoAlpha:1},.4)),i.to("#content-wrap",{y:-80,autoAlpha:0},0),i.to("#tt-header",{y:-20,autoAlpha:0},0);var i}))}e(".coming-soon-popup").on("click",(function(){e(this).removeClass("active"),e(".sneak_large li").removeClass("active").removeClass("full")})),e("*").on("touchstart",(function(){e(this).trigger("hover")})).on("touchend",(function(){e(this).trigger("hover")}))}(jQuery),gsap.registerPlugin(ScrollTrigger),ScrollTrigger.create({start:0,end:"max",onUpdate:scrollEvents});let scrollDirection=1,scrollDirectionOld=1;function scrollEvents(e){select("#header");scrollDirection=e.direction,scrollDirection!==scrollDirectionOld&&(e.prevDirection=e.direction,scrollDirectionOld=scrollDirection),playSound()}let soundValue="",soundOldValue="",soundActive=[!1,!1],isAudioPlaying=!1;function playSound(){const e=select(".waterAudio");e&&(ScrollTrigger.isInViewport(e)?(soundValue=e.dataset.audioFile,soundActive[0]=!0):soundActive[0]=!1);const t=select(".fireflyAudio");if(t&&(ScrollTrigger.isInViewport(t)?(soundValue=t.dataset.audioFile,soundActive[1]=!0):soundActive[1]=!1),isAudioEnabled){const e=select("#audio");soundValue!=soundOldValue?(isAudioPlaying=!0,soundOldValue=soundValue,e.src="assets/sound/"+soundValue,e.muted=!1,e.play()):!soundActive.includes(!0)&&isAudioPlaying&&(e.pause(),isAudioPlaying=!1)}}const splitTypes=selectAll(".reveal-type");splitTypes&&splitTypes.forEach(((e,t)=>{const o=e.dataset.bgColor,i=e.dataset.fgColor,s=new SplitType(e,{types:"words"});gsap.fromTo(s.words,{color:o},{color:i,duration:.3,stagger:.02,scrollTrigger:{trigger:e,start:"top 80%",end:"top 10%",scrub:!0,markers:false,toggleActions:"play play reverse reverse"}})}));const imageAnim=selectAll(".reveal-image");imageAnim&&imageAnim.forEach(((e,t)=>{gsap.fromTo(e,{y:window.innerWidth>768?40:30},{y:window.innerWidth>768?-50:-30,duration:.3,stagger:.02,scrollTrigger:{trigger:e,start:"top bottom",end:"top -50%",scrub:!0,markers:!1,toggleActions:"play play reverse reverse"}})}));const stage=select(".stage"),initHeader=()=>{gsap.timeline({delay:.5}).from(".main-header .logo",{x:-40,opacity:0,duration:2,ease:"power4"}).from(".main-header .main-nav",{x:40,opacity:0,duration:2,ease:"power4"},.5)},initIntro=()=>{gsap.timeline({delay:.2}).from(".line__inner.i1",{y:400,ease:"power4",duration:2}).from(".line__inner.i2",{y:400,opacity:0,ease:"power4",duration:2},.2).from(".mountain",{y:200,scale:1.2,opacity:0,ease:"power2",duration:3},1)},bgColor=()=>{$(window).scroll((function(){var e=$("body"),t=$(".section"),o=window.scrollY+window.innerHeight/3;t.each((function(){var t=$(this);t.position().top<=o&&t.position().top+t.height()>o&&(e.removeClass((function(e,t){return(t.match(/(^|\s)color-\S+/g)||[]).join(" ")})),e.addClass("color-"+$(this).data("color")))}))})).scroll()},bottomTransition=select("#waterBottle");if(bottomTransition&&window.innerWidth>=768){gsap.timeline({scrollTrigger:{trigger:"#waterBottle",scrub:1.5,start:"top center",end:"=+800",ease:"none",markers:!1,onToggle:()=>{$(".mountain").toggleClass("hide"),$("#waterVideo").toggleClass("clip-add"),$("#waterBottle").toggleClass("bottel-clip")}}})}gsap.to(".parallex-effect img",{top:500,ease:"none",scrollTrigger:{trigger:".parallex-effect img",scrub:!0}});const fireFlyEl=select("#firefly");if(fireFlyEl){gsap.timeline({scrollTrigger:{trigger:"#firefly",scrub:1.5,start:"top 20%",end:"bottom 40%",ease:"none",markers:!1}}).to("#firefly",{duration:2,scale:1,borderRadius:0,transformOrigin:"center"})}const grow=select("#grow");if(grow){gsap.timeline({scrollTrigger:{trigger:"#grow",scrub:1,start:"top top",end:"+=1000px",ease:"power1.out",markers:!0,onToggle:()=>{$("#grow").toggleClass("grow-fixed")}}}).to("#grow",{width:"100%"})}const textAnim=selectAll(".textAnim");textAnim.forEach(((e,t)=>{gsap.to(e,{backgroundPositionX:0,ease:"none",scrollTrigger:{trigger:e,markers:false,scrub:1,start:"top center",end:"bottom center"}})}));const sneakSection=()=>{window.sneakActive=!1,gsap.timeline({scrollTrigger:{trigger:select("#sneakSection"),markers:false,start:"top 80%",end:"top 20%"}}).from(".sneakHeading",{opacity:0,x:100}).from(".sneak_small li",{duration:1,opacity:0,y:100,stagger:.1}),$(".sneak_small li a").hover((e=>{const t=e.currentTarget.dataset.sneak;$(".sneak_large li").removeClass("active"),$(t).addClass("active")})),$(".images_section").mouseout((e=>{window.sneakActive||$(".sneak_large li").removeClass("active")}))},footerPaths=[...selectAll(".footer-anim")];function updateValues(){select("#x")&&(select("#x").innerText=ScrollTrigger.isInViewport(select(".main-footer")))}footerPaths.forEach((e=>{e.closest("svg"),e.dataset.pathTo;const t=select(".main-footer");gsap.timeline({scrollTrigger:{trigger:t,start:"top center",end:"bottom bottom",scrub:!0,markers:false,onUpdate:updateValues}}).to(e,{y:0,ease:"none",duration:1})}));const elementsVisibility=()=>{const e=select("#secoundBlock");if(e){e.offsetTop,window.innerHeight;window.innerWidth>=767&&window.scrollY>=500||window.innerWidth<=767&&window.scrollY>=100?select(".intro-title").classList.add("hidden"):select(".intro-title").classList.remove("hidden")}const t=select("#unordinary");if(t){t.offsetTop}selectAll(".audioContainerTrigger")},paths=[...selectAll("path.path-anim")];paths.forEach((e=>{const t=e.closest("svg"),o=e.dataset.pathTo;gsap.timeline({scrollTrigger:{trigger:t,start:"top bottom",end:"bottom top",scrub:!0}}).to(e,{ease:"none",attr:{d:o}})}));const circleExpand=()=>{gsap.timeline({scrollTrigger:{trigger:".circle-anim",scrub:.1,start:"top bottom",ease:"power1.out"}}).from(".outline-anim",{opacity:0,onComplete:function(){$(".outline-anim").addClass("active")}}).from(".circle-anim",{opacity:0},"+=0.5").from(".circle-block",{width:"160px",height:"160px",top:"400px",left:"170px",opacity:0,stagger:{amount:1}})},init=()=>{gsap.set(stage,{autoAlpha:1}),initHeader(),initIntro(),bgColor(),select("#magnifierImg"),select("#sneakSection")&&sneakSection(),circleExpand(),select(".page-kumaon")&&document.getElementById("kumaonVideo")&&kumaon()},logoEl=select("#headerLogo");window.onscroll=()=>{elementsVisibility(),logoEl&&($(window).scrollTop()>=105?logoEl.src="assets/img/logo-mini.png":logoEl.src="assets/img/logo.svg"),gsap.registerPlugin(ScrollTrigger),ScrollTrigger.create({start:0,end:"max",onUpdate:scrollEvents})};const throttleFunction=(e,t)=>{let o=0;return(...i)=>{let s=(new Date).getTime();if(s-o>t)return o=s,e(...i)}},wait=e=>new Promise((t=>setTimeout(t,e))),ageChecker={age:-1,checkAge:e=>{e.preventDefault();const t=(new Date).getFullYear(),o=select("#ageError");o.innerHTML="";const i=select("#ageDate").value||0;if(i<1&&i>=31)return void(o.innerHTML="Enter valid Date");const s=select("#ageMonth").value||0;if(s<1||s>15)return void(o.innerHTML="Enter valid Month");const a=select("#ageYear").value||0;if(a<=1900||a>=t)return void(o.innerHTML="Enter valid Year");const r=t-a,n=ageChecker.checkAgeValidity(r);return isAudioEnabled=!0,select("#soundButton").classList.toggle("mute"),n&&gtag&&gtag("event","AGE TRACKING",{age:r,DOB:`${i}/${s}/${a}}`}),!1},checkAgeValidity:e=>{if(e>=25)return localStorage.setItem("AGE",e),ageChecker.showNextModal(),init(),!0;return select("#ageError").innerHTML="Not a valid age",!1},showNextModal:async()=>{select(".showAgeForm").classList.remove("active"),select(".showAgeMsg").classList.add("active"),await wait(4e3),select("body").classList.remove("hm-age"),select("#modalAgePopup").classList.add("goUp"),await wait(4e3),select("#modalAgePopup").classList.remove("goUp"),select("#modalAgePopup").classList.remove("active")},showAgeForm:()=>{select("body").classList.add("hm-age"),select("#modalAgePopup").classList.add("active")},hideAgeForm:()=>{select("body").classList.remove("hm-age"),select("#modalAgePopup").classList.remove("active")},init:()=>{const e=parseInt(localStorage.getItem("AGE"));isNaN(e)||-1===e?ageChecker.showAgeForm():ageChecker.checkAgeValidity(e)}},ageForm=select("#ageForm");ageForm&&(ageChecker.init(),ageForm.addEventListener("submit",ageChecker.checkAge)),$(".portfolio-interactive-item").each((function(){$(this).find(".pi-item-title-link").on("mouseenter",(function(){$(this).parents(".portfolio-interactive").addClass("hovered"),$(this).parent().addClass("pi-item-hover");var e=$(this).parents("body").find(".pi-item-image video");e.length&&e.get(0).play()})).on("mouseleave",(function(){$(this).parents(".portfolio-interactive").removeClass("hovered"),$(this).parent().removeClass("pi-item-hover");var e=$(this).parents("body").find(".pi-item-image video");e.length&&e.get(0).pause()}))}));const debounce=(e,t)=>{let o;return function(){const i=this,s=arguments;clearTimeout(o),o=setTimeout((()=>e.apply(i,s)),t)}};let throttleTimer;const throttle=(e,t)=>{throttleTimer||(throttleTimer=!0,setTimeout((()=>{e(),throttleTimer=!1}),t))};let imgAdded=!1;function appearImage(e){if(imgAdded)return;imgAdded=!0,setTimeout((function(){imgAdded=!1}),400);const t=Math.floor(6*Math.random())+1,o=Math.floor(14*Math.random())+1;$(`.interactive-img #int_img_${o}`).addClass(`active index_${t} pos_${t}`),$(`.interactive-img #int_img_${o}`).css({left:+e.clientX-100+"px",top:e.clientY-100+"px"}).addClass(`active pos_${t}`),setTimeout((function(){$(`.interactive-img #int_img_${o}`).removeAttr("class"),$(`.interactive-img #int_img_${o}`).attr("class","")}),1e3)}$(".imageAppear").on("mousemove",debounce((function(e){appearImage(e)}),0));const distalarySection=select(".distalarySection");if(distalarySection){gsap.timeline({scrollTrigger:{trigger:distalarySection,scrub:1.5,start:"top center",end:"bottom bottom",markers:!1,onToggle:()=>{$("#waterBottle").toggleClass("d-none")}}}).to(distalarySection,{opacity:1,onComplete:function(){distalarySection.classList.add("active")}})}if(window.innerWidth<=767){const e=select("#main-video");e&&(e.src="https://ronaktwo.s3.ap-south-1.amazonaws.com/Himmaleh_0a.mp4")}