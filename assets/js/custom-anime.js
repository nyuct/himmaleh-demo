import*as THREE from"https://cdn.skypack.dev/three@0.129.0/build/three.module.js";import{OrbitControls}from"https://cdn.skypack.dev/three@0.129.0/examples/jsm/controls/OrbitControls.js";import{GLTFLoader}from"https://cdn.skypack.dev/three@0.129.0/examples/jsm/loaders/GLTFLoader.js";const scene=new THREE.Scene,desktopCamera=new THREE.PerspectiveCamera(25,window.innerWidth/window.innerHeight,.1,1e3),mobileCamera=new THREE.PerspectiveCamera(30,.5,1,1e3),camera=window.innerWidth>=768?desktopCamera:mobileCamera;let object;const loader=new GLTFLoader;loader.load("assets/3d/3d-bottle.glb",(function(e){object=e.scene,object.scale.set(50,50,50),scene.add(object)}));const renderer=new THREE.WebGLRenderer({alpha:!0,logarithmicDepthBuffer:!0});renderer.setSize(window.innerWidth,800),document.getElementById("container3D").appendChild(renderer.domElement),camera.position.z=1100,camera.position.y=0,camera.position.x=0,camera.focus=12,camera.fov=0,camera.near=20,camera.scale.z=1.7,camera.scale.y=1.1,console.log(camera);const ronak=new THREE.DirectionalLight(16777215,.4);ronak.position.set(5,5,5),ronak.castShadow=!0,scene.add(ronak);const ambientLight=new THREE.AmbientLight(16777215,1.25);scene.add(ambientLight);const controls=new OrbitControls(camera,renderer.domElement);controls.enableDamping=!0,controls.dampingFactor=.25,controls.screenSpacePanning=!1,controls.enabled=!1,controls.enableZoom=!1,console.log(controls);const rotationSpeed=.005;function animate(){requestAnimationFrame(animate),object&&(object.rotation.y+=.005,object.position.y=-150),controls.update(),renderer.render(scene,camera)}window.innerWidth>=768&&window.addEventListener("resize",(function(){camera.aspect=window.innerWidth/window.innerHeight,camera.updateProjectionMatrix(),renderer.setSize(window.innerWidth,window.innerHeight)})),animate();const tl1=gsap.timeline({scrollTrigger:{trigger:".animation-section",start:"top 25%",end:""+(window.innerWidth>=768?"+=7000px":"+=2400px"),scrub:1,markers:!1,onToggle:()=>{$("#container3D canvas").toggleClass("position-fixed"),$(".main-header").toggleClass("d-none")}}});tl1.to(".scroll-image",{xPercent:-200,x:"100%"});let stickyDots=document.querySelectorAll(".sticky-dots-animation");stickyDots.forEach(((e,t)=>{console.log(e.getAttribute("class").split(" ")[1]);const o=gsap.timeline({scrollTrigger:{trigger:e,start:"top center",end:"bottom center",scrub:1,markers:!1}});o.to(`.${e.getAttribute("class").split(" ")[2]} .sticky-dots-left`,{y:100}),o.to(`.${e.getAttribute("class").split(" ")[2]} .sticky-dots-right`,{y:-100})}));const farmTobottel=gsap.timeline({scrollTrigger:{trigger:".content",start:"top 25%",end:"bottom center",scrub:1,markers:!1}});if(farmTobottel.to(".circle-bottle ",{rotate:200}),window.innerWidth>=768){gsap.timeline({scrollTrigger:{trigger:".section--3",start:"top center",end:"bottom bottom",scrub:1,markers:!1,onToggle:()=>{$("#container3D canvas").toggleClass("go-left"),$("#container3D canvas").removeClass("d-fixed")},onLeave:()=>{$("#container3D canvas").addClass("d-fixed")}}})}$(".flip-box").tilt({maxTilt:25,perspective:4e3,easing:"cubic-bezier(.03,.98,.52,.99)",speed:1200,glare:!0,reverse:!0,reset:!0,scale:1,"reset-to-start":!0,gyroscope:!0});