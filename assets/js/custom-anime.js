import*as THREE from"https://cdn.skypack.dev/three@0.129.0/build/three.module.js";import{OrbitControls}from"https://cdn.skypack.dev/three@0.129.0/examples/jsm/controls/OrbitControls.js";import{GLTFLoader}from"https://cdn.skypack.dev/three@0.129.0/examples/jsm/loaders/GLTFLoader.js";const scene=new THREE.Scene;if("/kumaon-and-i.html"==window.location.pathname){const e=new THREE.PerspectiveCamera(25,window.innerWidth/window.innerHeight,.1,1e3),n=new THREE.PerspectiveCamera(30,.5,1,1e3),t=window.innerWidth>=768?e:n;let i;(new GLTFLoader).load("assets/3d/3d-bottle.glb",(function(e){i=e.scene,i.scale.set(50,50,50),scene.add(i),i.traverse((function(e){e instanceof THREE.Mesh&&(e.castShadow=!0)}))}));const o=new THREE.WebGLRenderer({alpha:!0,logarithmicDepthBuffer:!0});o.shadowMap.enabled=!0,o.setSize(window.innerWidth,800),document.getElementById("container3D").appendChild(o.domElement),t.position.z=1100,t.position.y=0,t.position.x=0,t.focus=12,t.fov=0,t.near=20,t.scale.z=1.7,t.scale.y=1.1;const a=new THREE.DirectionalLight(16777215,.4);a.position.set(5,5,5),a.castShadow=!0,scene.add(a);const s=new THREE.AmbientLight(16777215,1.25);scene.add(s);const r=new OrbitControls(t,o.domElement);function animate(){requestAnimationFrame(animate),i&&(i.rotation.y+=.005,i.position.y=-150),r.update(),o.render(scene,t)}r.enableDamping=!0,r.dampingFactor=.25,r.screenSpacePanning=!1,r.enabled=!1,r.enableZoom=!1,window.innerWidth>=768&&window.addEventListener("resize",(function(){t.aspect=window.innerWidth/window.innerHeight,t.updateProjectionMatrix(),o.setSize(window.innerWidth,window.innerHeight)})),animate();var mouseTolerance=.3;document.onmousemove=function(e){var n=.9*window.innerWidth,t=1.2*window.innerHeight;scene.rotation.x=(e.clientY-t)/t*t/2e3,scene.rotation.z=(e.clientX-n)/n*n/n}}else if("/bunderfull.html"==window.location.pathname){const c=new THREE.PerspectiveCamera(20,window.innerWidth/window.innerHeight,.1,1e3),d=new THREE.PerspectiveCamera(30,.5,1,1e3),l=window.innerWidth>=768?c:d;let m;(new GLTFLoader).load("assets/3d/bandarfull.glb",(function(e){m=e.scene,m.scale.set(10,10,10),scene.add(m)}));const p=new THREE.WebGLRenderer({alpha:!0,logarithmicDepthBuffer:!0});p.setSize(window.innerWidth,800),document.getElementById("container3D").appendChild(p.domElement),l.position.z=1100,l.position.y=0,l.position.x=0,l.focus=12,l.fov=0,l.near=20,l.scale.z=1.7,l.scale.y=1.1;const g=new THREE.DirectionalLight(16777215,.4);g.position.set(5,5,5),g.castShadow=!0,scene.add(g);const w=new THREE.AmbientLight(16777215,1.25);scene.add(w);const h=new OrbitControls(l,p.domElement);function animateBunder(){requestAnimationFrame(animateBunder),m&&(m.rotation.y+=.005,m.position.y=0),h.update(),p.render(scene,l)}h.enableDamping=!0,h.dampingFactor=.25,h.screenSpacePanning=!1,h.enabled=!1,h.enableZoom=!1,animateBunder()}const tl1=gsap.timeline({scrollTrigger:{trigger:".animation-section",start:"top 25%",end:""+(window.innerWidth>=768?"+=7000px":"+=2400px"),scrub:1,markers:!1,onToggle:()=>{$("#container3D canvas").toggleClass("position-fixed"),$(".main-header").toggleClass("d-none")}}});tl1.to(".scroll-image",{xPercent:-200,x:"100%"});let stickyDots=document.querySelectorAll(".sticky-dots-animation");stickyDots.forEach(((e,n)=>{const t=gsap.timeline({scrollTrigger:{trigger:e,start:"top center",end:"bottom center",scrub:1,markers:!1}});t.to(`.${e.getAttribute("class").split(" ")[2]} .sticky-dots-left`,{y:100}),t.to(`.${e.getAttribute("class").split(" ")[2]} .sticky-dots-right`,{y:-100})}));const farmTobottel=gsap.timeline({scrollTrigger:{trigger:".content",start:"top 25%",end:"bottom center",scrub:1,markers:!1}});if(farmTobottel.to(".circle-bottle ",{rotate:200}),window.innerWidth>=768){gsap.timeline({scrollTrigger:{trigger:".section--3",start:"top center",end:"bottom bottom",scrub:1,markers:!1,onToggle:()=>{$("#container3D canvas").toggleClass("go-left"),$("#container3D canvas").removeClass("d-fixed")},onLeave:()=>{$("#container3D canvas").addClass("d-fixed")}}})}$(".flip-box").tilt({maxTilt:25,perspective:4e3,easing:"cubic-bezier(.03,.98,.52,.99)",speed:1200,glare:!0,reverse:!0,reset:!0,scale:1,"reset-to-start":!0,gyroscope:!0});